<p id="topic-content"><h1 id="jd0e3">Distributed Service Resource Allocation with Containerized
Contrail</h1><sw-topic-details date="2019-04-16"> </sw-topic-details><div id="intro"><div class="mini-toc-intro"><p>Starting with Contrail Release 4.0, the existing
centralized Contrail discovery service is replaced with a distributed
method of allocating service resources.</p></div></div><h2 id="jd0e14">Replacement of Centralized Discovery Service</h2><p>In Contrail releases prior to Release 4.0, the Contrail discovery
service is a centralized service resource allocation module with high
availability, used primarily to automatically load-balance service
resources in the system. </p><p>In the previous centralized discovery method, new service resources
are registered (published) directly to the Contrail discovery module
and allocated to the requester (subscriber) of the service resource,
without disrupting the running state of the subscribers. </p><p>The centralized discovery method requires using a database to:</p><ul><li style=""><p>synchronize across Contrail discovery nodes.</p></li><li style=""><p>maintain the list of publishers, subscribers, and the
health of published services across reloads.</p></li><li style=""><p>provide a centralized view of the service allocation and
health of the services.</p></li></ul><p>This centralized discovery method resulted in unnecessary system
churn when services were falsely marked as down, due to periodic health
updates of services made to the database nodes, resulting in reallocation
of healthy services.</p><p>Starting with Contrail 4.0, the Contrail discovery services
centralized resource allocation manager has been removed. Its replacement
is a distributed resource allocation list of service nodes, maintained
in each module of the system.</p><h2 id="jd0e40">New Distributed Resource Allocation Manager</h2><p>Starting with Contrail Release 4.0, service resources are managed
with a distributed allocation manager, with the following features:</p><ul><li style=""><p>Each system module is provisioned with a list of service
nodes (publishers). </p></li><li style=""><p>Each system module randomizes the list of service nodes
and uses the resources. The randomized list is expected to be fairly
load-balanced. </p></li><li style=""><p>When currently-used services are down, the system module
detects the down immediately and reacts with no downtime by selecting
another service from the list. This is distinctly different from the
previous model, in which the module would need to contact the discovery
service to check for available services, resulting in a finite time
loss for allocation, distribution, and application of a new set of
services. </p></li><li style=""><p>When service nodes are added or deleted, the system administrator
updates the configuration file of all daemons using the service type
of the service node added or deleted, sending a SIGHUP to the respective
daemons. </p></li><li style=""><p>Each daemon randomizes the service list independently
and reallocates the resources.</p></li></ul><h3 id="jd0e61">Deprecation of IF-MAP</h3><p>In Contrail 4.0, the Interface for Metadata Access Points (IF-MAP)
methodology has been deprecated. Contrail 4.0 uses CONFIGDB sections
in configuration files instead of IF-MAP sections.</p><h2 id="jd0e66">Changes in Configuration Files</h2><p><a href="distributed-service-resource-allocation.html#discoverytable1">Table 1</a> lists configuration files
in the Contrail system that have changes to enable the distributed
service resource allocation system, starting with Contrail 4.0. In
general, the changes include removing (deprecating) discovery server
sections and subsections, and adding parameters needed to identify
service resources in all modules.</p><p>Each daemon randomizes the published service list and uses the
resources. Additionally, each daemon provides a SIGHUP handler to
manage the addition or deletion of publishers.</p><sw-table><p class="SubTitle" id="discoverytable1">Table 1: Contrail 4.0 Changes in Configuration
Files </p><table cellspacing="0" style="border-top:thin solid black;" width="99%"><thead><tr valign="bottom"><th align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Configuration File </p></th><th align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Configuration Parameter</p></th><th align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Changes</p></th></tr></thead><tbody><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">contrail-vrouter-agent.conf</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DISCOVERY]</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Section deprecated</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[CONTROL-NODE].servers</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of control-node [role=control] service providers
in the format:<br/> ip-address:port ip-address2:port <br/>Example: 10.1.1.1:5269 10.1.1.12:5269</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DNS].servers</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of DNS [role=control] service providers in
 the format: </p><p>ip-address:port ip-address2:port  <br/>Example: 10.1.1.1:53
10.1.1.2:5</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DEFAULT].collectors </code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of Collector [role=collector] service providers
in the format:</p><p> ip-address:port ip-address2:port  Example: 10.1.1.1:8086 10.1.1.2:8086</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">contrail-control.conf</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DISCOVERY]  </code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Section deprecated</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"> </td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DEFAULT].collectors</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of Collector [role=collector] service providers
in  the format:</p><p>ip-address:port ip-address2:port  Example: 10.1.1.1:8086 10.1.1.2:8086</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"> </td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[CONFIGDB].rabbitmq_server_list</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of config-node [role=cfgm] service providers
in the format:</p><p>ip-address:port ip-address2:port  Example: 10.1.1.1:5672 10.1.1.2:5672</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"> </td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[CONFIGDB].rabbitmq_user</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>guest (default string)</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"> </td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[CONFIGDB].rabbitmq_password</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>guest (default string)</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"> </td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[CONFIGDB].config_db_server_list</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of Config DB [role=database] service providers
in the format:</p><p>ip-address:port ip-address2:port  Example: 10.1.1.1:9042 10.1.1.2:9042 </p><p>NOTE: Docker uses 9041 as port</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[CONFIGDB].certs_store</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Deprecated</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[CONFIGDB].password</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Deprecated</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[CONFIGDB].server_url</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Deprecated</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[CONFIGDB].user</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Deprecated</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[CONFIGDB].stale_entries_cleanup_timeout</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Deprecated</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[CONFIGDB].end_of_rib_timeout</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Deprecated</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">contrail-dns.conf</code></p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DISCOVERY]</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Deprecated</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DEFAULT].collectors</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of Collector [role=collector] service providers
in the format:</p><p>ip-address:port ip-address2:port  Example: 10.1.1.1:8086 10.1.1.2:8086</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[CONFIGDB].rabbitmq_server_list</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of config-node [role=cfgm] service providers
in the format: </p><p>ip-address:port ip-address2:port  Example: 10.1.1.1:5672 10.1.1.2:5672</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[CONFIGDB].rabbitmq_user</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>guest (default string)</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[CONFIGDB].rabbitmq_password</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>guest (default string)</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[CONFIGDB].config_db_server_list</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of Config DB [role=database] service providers
in the format: </p><p>ip-address:port ip-address2:port  Example: 10.1.1.1:9042 10.1.1.2:9042
NOTE: Dockers use 9041 as port</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[CONFIGDB].certs_store</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Deprecated</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[CONFIGDB].password</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Deprecated</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[CONFIGDB].server_url</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Deprecated</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[CONFIGDB].user</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Deprecated</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[CONFIGDB].stale_entries_cleanup_timeout</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Deprecated</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[CONFIGDB].end_of_rib_timeout</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Deprecated</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">contrail-collector.conf</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DISCOVERY] </code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Deprecated</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[API_SERVER].api_server_list</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of api-servers [role=config] in the format: </p><p>ip-address:port  </p><p>Example: 10.1.1.1:8082 10.1.1.2:8082</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">contrail-alarm-gen.conf</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DISCOVERY]</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Deprecated</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DEFAULTS].collectors</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of Collector [role=collector] service providers
in the format: </p><p>ip-address:port ip-address2:port     </p><p>Example: 10.1.1.1:8086 10.1.1.2:8086</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[API_SERVER].api_server_list</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of api-servers [role=config] in the format: </p><p>ip-address:port     </p><p>Example: 10.1.1.1:8082 10.1.1.2:8082</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[REDIS].redis_uve_list</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of redis instances [role=collector]    </p><p>Example: 192.168.0.29:6379 192.168.0.30:6379</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">contrail-analytics-api.conf</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DISCOVERY]</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Section deprecated</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DEFAULTS].collectors</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of collector [role=collector] service providers
in the format: </p><p>ip-address:port ip-address2:port  </p><p>Example: 10.1.1.1:8086 10.1.1.2:8086</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[REDIS].redis_uve_list</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of redis instances [role=collector] </p><p>Example: 192.168.0.29:6379 192.168.0.30:6379</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">contrail-api.conf</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DISCOVERY]</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Section deprecated</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DEFAULTS].collectors</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of collector [role=collector] service providers
in the format: </p><p>ip-address:port ip-address2:port </p><p> Example: 10.1.1.1:8086 10.1.1.2:8086</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">contrail-schema.conf</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DISCOVERY]</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Section deprecated</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DEFAULTS].collectors</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of Collector [role=collector] service providers
in ip-address:port ip-address2:port  </p><p>Example: 10.1.1.1:8086 10.1.1.2:8086</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">contrail-svc-monitor.conf</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DISCOVERY]</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Section deprecated</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DEFAULTS].collectors</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of Collector [role=collector] service providers
in the format: </p><p>ip-address:port ip-address2:port  </p><p>Example: 10.1.1.1:8086 10.1.1.2:8086</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">contrail-device-manager.conf</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DISCOVERY]</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Section deprecated</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DEFAULTS].collectors</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of Collector [role=collector] service providers
in ip-address:port ip-address2:port format </p><p>Example: 10.1.1.1:8086 10.1.1.2:8086</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">contrail-analytics-nodemgr.conf</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DISCOVERY]</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Section deprecated</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[COLLECTOR].server_list</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of Collector [role=collector] service providers
in the format: </p><p>ip-address:port ip-address2:port  Example: 10.1.1.1:8086 10.1.1.2:8086</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">contrail-config-nodemgr.conf</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DISCOVERY]</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Section deprecated</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[COLLECTOR].server_list</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of Collector [role=collector] service providers
in the format: </p><p>ip-address:port ip-address2:port </p><p>Example: 10.1.1.1:8086 10.1.1.2:8086</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">contrail-control-nodemgr.conf</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DISCOVERY]</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Section deprecated</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[COLLECTOR].server_list</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of Collector [role=collector] service providers
in ip-address:port ip-address2:port  </p><p>Example: 10.1.1.1:8086 10.1.1.2:8086</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">contrail-database-nodemgr.conf</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DISCOVERY]</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Section deprecated</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[COLLECTOR].server_list</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of Collector [role=collector] service providers
in the format: </p><p>ip-address:port ip-address2:port </p><p>Example: 10.1.1.1:8086 10.1.1.2:8086</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">contrail-vrouter-nodemgr.conf</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DISCOVERY</code>]</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Section deprecated</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[COLLECTOR].server_list</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of Collector [role=collector] service providers
in the format: </p><p>ip-address:port ip-address2:port </p><p> Example: 10.1.1.1:8086 10.1.1.2:8086</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">contrail-query-engine.conf</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DISCOVERY]</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Section deprecated</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[COLLECTOR].server_list</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of Collector [role=collector] service providers
in the format: </p><p>ip-address:port ip-address2:port </p><p> Example: 10.1.1.1:8086 10.1.1.2:8086</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">contrail-snmp-collector.conf</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DISCOVERY]</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Section deprecated</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DEFAULTS].collectors</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of Collector [role=collector] service providers
in the format: </p><p>ip-address:port ip-address2:port </p><p>Example: 10.1.1.1:8086 10.1.1.2:8086</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[API_SERVER].api_server_list</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of api-servers [role=config] in the format: </p><p>ip-address:port </p><p>Example: 10.1.1.1:8082 10.1.1.2:8082</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">contrail-topology.conf</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DISCOVERY]</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Section deprecated</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[DEFAULTS].collectors</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of Collector [role=collector] service providers
in the format: </p><p>ip-address:port ip-address2:port  Example: 10.1.1.1:8086 10.1.1.2:8086</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">[API_SERVER].api_server_list</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of api-servers [role=config] in ip-address:port </p><p>Example: 10.1.1.1:8082 10.1.1.2:8082</p></td></tr><tr valign="top"><td align="left" colspan="3" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">Contrail Web UI </strong></p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">config.global.js</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">config.discovery.server</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Discovery subsection deprecated</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">config.discovery.port</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Discovery subsection deprecated</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">config.cnfg.server_ip</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of Config [role=cfgm] service providers as
list of ip-address</p><p> Example: ['10.1.1.1 10.1.1.2']</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">config.cnfg.server_port</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Server port as a string </p><p>Example: '8082'</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">config.analytics.server_ip</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of Collector [role=collector] service providers
as a list of ip-address </p><p>Example: ['10.1.1.1 10.1.1.2']</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">config.analytics.server_port</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Server port as a string </p><p>Example: '8081'</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">config.dns.server_ip</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provisioned list of Controller [role=control] service providers
as a list of ip-address </p><p>Example: ['10.1.1.1 10.1.1.2'] </p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><code class="inline" v-pre="">config.dns.server_port</code></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Server port as a string  </p><p>Example: '8092'</p></td></tr></tbody></table></sw-table><sw-prev-next> </sw-prev-next></p>