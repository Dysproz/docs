<p id="topic-content"><h1 id="jd0e3">Configuring DNS Servers</h1><sw-topic-details date="2019-04-16"> </sw-topic-details><h2 id="jd0e33">DNS Overview</h2><p>Domain Name System (DNS) is the standard protocol for resolving
domain names into IP addresses so that traffic can be routed to its
destination. DNS provides the translation between human-readable domain
names and their IP addresses. The domain names are defined in a hierarchical
tree, with a root followed by top-level and next-level domain labels. </p><p>A DNS server stores the records for a domain name and responds
to queries from clients based on these records. The server is authoritative
for the domains for which it is configured to be the name server.
For other domains, the server can act as a caching server, fetching
the records by querying other domain name servers.</p><p>The following are the key attributes of domain name service
in a virtual world:</p><ul><li style=""><p>It should be possible to configure multiple domain name
servers to provide name resolution service for the virtual machines
spawned in the system. </p></li><li style=""><p>It should be possible to configure the domain name servers
to form DNS server hierarchies required by each tenant.</p><ul><li style=""><p>The hierarchies can be independent and completely isolated
from other similar hierarchies present in the system, or they can
provide naming service to other hierarchies present in the system.</p></li></ul></li><li style=""><p>DNS records for the virtual machines spawned in the system
should be updated dynamically when a virtual machine is created or
destroyed.</p></li><li style=""><p>The service should be scalable to handle an increase in
servers and the resulting increased numbers of virtual machines and
DNS queries handled in the system.</p></li></ul><h2 id="jd0e62">Defining Multiple Virtual Domain Name Servers in Contrail</h2><p> Contrail provides the flexibility to define multiple virtual
domain name servers under each domain in the system. Each virtual
domain name server is an authoritative server for the DNS domain configured. <a href="configure-dns-vnc.html#dns-example">Figure 1</a> shows examples of virtual DNS servers
defined in <strong v-pre="">default-domain</strong>, providing the name service for
the DNS domains indicated.</p><figure id="dns-example"><figcaption>Figure 1: DNS Servers Examples</figcaption><div class="graphic"><img alt="DNS Servers Examples" src="images/s041847.gif" style=""/></div></figure><h2 id="jd0e79">IPAM and Virtual DNS</h2><p>Each IP address management (IPAM) service in the system can
refer to one of the virtual DNS servers configured. The virtual networks
and virtual machines spawned are associated with the DNS domain specified
in the corresponding IPAM. When the VMs are configured with DHCP,
they receive the domain assignment in the DHCP <strong v-pre="">domain-name</strong> option. Examples are shown in <a href="configure-dns-vnc.html#ipam-example">Figure 2</a></p><figure id="ipam-example"><figcaption>Figure 2: IPAM and Virtual DNS</figcaption><div class="graphic"><img alt="IPAM and Virtual DNS" src="images/s041848.gif" style=""/></div></figure><h2 id="jd0e111">DNS Record Types</h2><p>DNS records can be added statically. DNS record types <strong v-pre="">A,
CNAME, PTR</strong>, and <strong v-pre="">NS</strong> are currently supported in the
system. Each record includes the type, class (IN), name, data, and
TTL values. See <a href="configure-dns-vnc.html#dns-record-types">Table 1</a> for descriptions
of the record types.</p><sw-table><p class="SubTitle" id="dns-record-types">Table 1: DNS Record Types Supported</p><table cellspacing="0" style="border-top:thin solid black;" width="99%"><thead><tr valign="bottom"><th align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>DNS Record Type</p></th><th align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Description</p></th></tr></thead><tbody><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">A</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Used for mapping hostnames to IPv4 addresses. Name refers
to the name of the virtual machine, and data is the IPv4 address of
the virtual machine.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">CNAME</strong> </p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Provides an alias to a name. Name refers to the name
of the virtual machine, and data is the new name (alias) for the virtual
machine.</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">PTR</strong> </p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>A pointer to a record, it provides reverse mapping from
an IP address to a name. Name refers to the IP address, and data is
the name for the virtual machine. The address in the PTR record should
be part of a subnet configured for a VN within one of the IPAMs referring
to this virtual DNS server.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">NS</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Used to delegate a subdomain to another DNS server. The
DNS server could be another virtual DNS server defined in the system
or the IP address of an external DNS server reachable via the infrastructure.
Name refers to the subdomain being delegated, and data is the name
of the virtual DNS server or IP address of an external server.</p></td></tr></tbody></table></sw-table><p><a href="configure-dns-vnc.html#ns-example">Figure 3</a> shows an example usage for
the DNS record type of <strong v-pre="">NS</strong>.</p><figure id="ns-example"><figcaption>Figure 3: Example Usage for NS Record Type</figcaption><div class="graphic"><img alt="Example Usage for NS Record Type" src="images/s041849.gif" style=""/></div></figure><h2 id="jd0e191">Configuring DNS on the User Interface</h2><p>DNS can be configured by using the user interface or by using
scripts. The following procedure shows how to configure DNS through
the Juniper Networks Contrail interface.</p><ol type="1"><li id="jd0e204" style="">Access <strong v-pre="">Configure &gt; DNS &gt; Servers</strong> to create
or delete virtual DNS servers and records.<p>The <strong v-pre="">Configure DNS Records</strong> page appears; see <a href="configure-dns-vnc.html#config-dns-record">Figure 4</a>. </p><figure id="config-dns-record"><figcaption>Figure 4: Configure DNS Records</figcaption><div class="graphic"><img alt="Configure DNS Records" src="images/s041850.gif" style=""/></div></figure></li><li id="jd0e221" style="">To add a new DNS server, click the <strong v-pre="">Create</strong> button. <p>Enter DNS server information in the <strong v-pre="">Add DNS </strong>window;
see <a href="configure-dns-vnc.html#add-dns-svr">Figure 5</a></p><figure id="add-dns-svr"><figcaption>Figure 5: Add DNS</figcaption><div class="graphic"><img alt="Add DNS" src="images/s041864.gif" style=""/></div></figure><p>Complete the fields for the new server; see <a href="configure-dns-vnc.html#add-dns-fields">Table 2</a>.</p><sw-table><p class="SubTitle" id="add-dns-fields">Table 2: Add DNS Fields</p><table cellspacing="0" style="border-top:thin solid black;" width="99%"><thead><tr valign="bottom"><th align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Field</p></th><th align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Description</p></th></tr></thead><tbody><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">Server Name</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Enter a name for this server.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">Domain Name</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Enter the name of the domain for this server.</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">Time To Live</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Enter the <strong v-pre="">TTL</strong> in seconds.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">Next DNS Server</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Select from a list the name of the next DNS server to
process DNS requests if they cannot be processed at this server, or <strong v-pre="">None</strong>.</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">Load Balancing Order</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Select the load-balancing order from a list—<strong v-pre="">Random, Fixed, Round Robin</strong>. When a name has multiple records
matching, the configured record order determines the order in which
the records are sent in the response. Select <strong v-pre="">Random</strong> to
have the records sent in random order. Select <strong v-pre="">Fixed</strong> to
have records sent in the order of creation. Select <strong v-pre="">Round Robin</strong> to have the record order cycled for each request to the record.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">OK</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Click <strong v-pre="">OK</strong> to create the record.</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">Cancel</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Click <strong v-pre="">Cancel</strong> to clear the fields and start
over.</p></td></tr></tbody></table></sw-table></li><li id="jd0e336" style="">To add a new DNS record, from the <strong v-pre="">Configure DNS Records</strong> page, click the <strong v-pre="">Add Record</strong> button in the lower right
portion of the screen. <p>The <strong v-pre="">Add DNS Record</strong> window appears; see <a href="configure-dns-vnc.html#add-dns-record">Figure 6</a>. </p><figure id="add-dns-record"><figcaption>Figure 6: Add DNS Record</figcaption><div class="graphic"><img alt="Add DNS Record" src="images/s041853.gif" style=""/></div></figure></li><li id="jd0e356" style="">Complete the fields for the new record; see <a href="configure-dns-vnc.html#add-dns-record-fields">Table 3</a>.<sw-table><p class="SubTitle" id="add-dns-record-fields">Table 3: Add DNS Record Fields</p><table cellspacing="0" style="border-top:thin solid black;" width="99%"><thead><tr valign="bottom"><th align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Field</p></th><th align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Description</p></th></tr></thead><tbody><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">Record Name</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Enter a name for this record.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">Type</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Select the record type from a list—<strong v-pre="">A, CNAME,
PTR, NS.</strong></p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">IP Address</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Enter the IP address for the location for this record.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">Class</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Select the record class from a list—<strong v-pre="">IN </strong>is the default.</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">Time To Live</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Enter the <strong v-pre="">TTL</strong> in seconds.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">OK</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Click <strong v-pre="">OK</strong> to create the record.</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">Cancel</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Click <strong v-pre="">Cancel</strong> to clear the fields and start
over.</p></td></tr></tbody></table></sw-table></li><li id="jd0e446" style="">To associate an IPAM to a virtual DNS server, from the <strong v-pre="">Configure DNS Records</strong> page, select the <strong v-pre="">Associated IPAMs</strong> tab in the lower right portion of the screen and click the <strong v-pre="">Edit</strong> button. <p>The <strong v-pre="">Associate IPAMs to DNS</strong> window appears; see <a href="configure-dns-vnc.html#associate-IPAM">Figure 7</a>. </p><figure id="associate-IPAM"><figcaption>Figure 7: Associate IPAMs to DNS</figcaption><div class="graphic"><img alt="Associate IPAMs to DNS" src="images/s041854.gif" style=""/></div></figure><p>Complete the IPAM associations, using the field descriptions
in <a href="configure-dns-vnc.html#ipams-fields">Table 4</a>.</p><sw-table><p class="SubTitle" id="ipams-fields">Table 4: Associate IPAMs to DNS Fields</p><table cellspacing="0" style="border-top:thin solid black;" width="99%"><thead><tr valign="bottom"><th align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Field</p></th><th align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Description</p></th></tr></thead><tbody><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">Associate to All IPAMs</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Select this box to associate the selected DNS server
to all available IPAMs.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">Available IPAMs</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>This column displays the currently available IPAMs.</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">Associated IPAMs</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>This column displays the IPAMs currently associated with
the selected DNS server.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">&gt;&gt;</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Use this button to associate an available IPAM to the
selected DNS server, by selecting an available IPAM in the left column
and clicking this button to move it to the Associated IPAMs column.
The selected IPAM is now associated with the selected DNS server.</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">&lt;&lt;</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Use this button to disassociate an IPAM from the selected
DNS server, by selecting an associated IPAM in the right column and
clicking this button to move it to the left column (Available IPAMs).
The selected IPAM is now disassociated from the selected DNS server.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">OK</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Click <strong v-pre="">OK</strong> to commit the changes indicated in
the window.</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">Cancel</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Click <strong v-pre="">Cancel</strong> to clear all entries and start
over.</p></td></tr></tbody></table></sw-table></li><li id="jd0e550" style="">Use the <strong v-pre="">IP Address Management</strong> page (<strong v-pre="">Configure
&gt; Networking &gt; IP Address Management</strong>); see <a href="configure-dns-vnc.html#config-IPAM">Figure 8</a>) to configure the DNS mode for any DNS
server and to associate an IPAM to DNS servers of any mode or to tenants’
IP addresses.<figure id="config-IPAM"><figcaption>Figure 8: Configure IP Address Management</figcaption><div class="graphic"><img alt="Configure IP Address Management" src="images/s041855.gif" style=""/></div></figure></li><li id="jd0e565" style="">To associate an IPAM to a virtual DNS server or to tenant’s
IP addresses, at the <strong v-pre="">IP Address Management</strong> page, select
the network associated with this IPAM, then click the <strong v-pre="">Action</strong> button in the last column, and click <strong v-pre="">Edit</strong>. <p>The <strong v-pre="">Edit IP Address Management </strong>window appears; see <a href="configure-dns-vnc.html#dns-window">Figure 9</a>.</p><figure id="dns-window"><figcaption>Figure 9: DNS Server</figcaption><div class="graphic"><img alt="DNS Server" src="images/s041857.gif" style=""/></div></figure></li><li id="jd0e588" style=""> In the first field, select the <strong v-pre="">DNS Method</strong> from
a list (<strong v-pre="">None, Default DNS, Tenant DNS, Virtual DNS</strong>; see <a href="configure-dns-vnc.html#dns-modes">Table 5</a>. <sw-table><p class="SubTitle" id="dns-modes">Table 5: DNS Modes</p><table cellspacing="0" style="border-top:thin solid black;" width="99%"><thead><tr valign="bottom"><th align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>DNS Mode</p></th><th align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Description</p></th></tr></thead><tbody><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">None</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Select <strong v-pre="">None</strong> when no DNS support is required
for the VMs.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">Default</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>In default mode, DNS resolution for VMs is performed
based on the name server configuration in the server infrastructure.
The subnet default gateway is configured as the DNS server for the
VM, and the DHCP response to the VM has this DNS server option. DNS
requests sent by a VM to the default gateway are sent to the name
servers configured on the respective compute nodes. The responses
are sent back to the VM.</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">Tenant</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Configure this mode when a tenant wants to use its own
DNS servers. Configure the list of servers in the IPAM. The server
list is sent in the DHCP response to the VM as DNS servers. DNS requests
sent by the VMs are routed the same as any other data packet based
on the available routing information.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">Virtual DNS</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Configure this mode to support virtual DNS servers (VDNS)
to resolve the DNS requests from the VMs. Each IPAM can have a virtual
DNS server configured in this mode. </p></td></tr></tbody></table></sw-table></li><li id="jd0e649" style="">Complete the remaining fields on this page, and click <strong v-pre="">OK</strong> to commit the changes, or click <strong v-pre="">Cancel</strong> to clear
the fields and start over.</li></ol><h2 id="jd0e659">Configuring DNS Using Scripts</h2><p>You can
configure DNS by using scripts that are available in the contrail-utils
RPM/DEB package in the <code class="filepath">/opt/contrail/utils</code> directory. The scripts are copied to the config_api_container or
config node when you install the contrail-utils RPM/DEB package. You
can execute the scripts from either the config_api container or the
config node. The scripts are described in <a href="configure-dns-vnc.html#dns-scripts">Table 6</a>.</p><sw-admonition name="caution" style=""><strong class="title">Caution</strong><p>Be aware of the following cautions when using scripts
to configure DNS:</p><ul><li style=""><p>DNS doesn’t allow special characters in the names,
other than - (dash) and . (period). Any records that include special
characters in the name will be discarded by the system.</p></li><li style=""><p>The IPAM DNS mode and association should only be edited
when there are <em>no</em> virtual machine instances in
the virtual networks associated with the IPAM.</p></li></ul></sw-admonition><sw-table><p class="SubTitle" id="dns-scripts">Table 6: DNS Scripts</p><table cellspacing="0" style="border-top:thin solid black;" width="99%"><thead><tr valign="bottom"><th align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Action</p></th><th align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Script</p></th></tr></thead><tbody><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Add a virtual DNS server</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Script: <code class="inline" v-pre="">add_virtual_dns.py</code></p><p>Sample usage: <code class="inline" v-pre="">python add_virtual_dns.py --api_server_ip
10.204.216.21 --api_server_port 8082 --name vdns1 --domain_name default-domain
--dns_domain juniper.net --dyn_updates --record_order random --ttl
1200 --next_vdns default-domain:vdns2 </code></p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Delete a virtual DNS server</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Script: <code class="inline" v-pre="">del_virtual_dns_record.py</code></p><p>Sample usage: <code class="inline" v-pre="">python del_virtual_dns.py --api_server_ip
10.204.216.21 --api_server_port 8082 --fq_name default-domain:vdns1</code></p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Add a DNS record</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Script: <code class="inline" v-pre="">add_virtual_dns_record.py </code> </p><p>Sample usage: <code class="inline" v-pre="">python add_virtual_dns_record.py
--api_server_ip 10.204.216.21 --api_server_port 8082 --name rec1 --vdns_fqname
default-domain:vdns1 --rec_name one --rec_type A --rec_class IN --rec_data
1.2.3.4 --rec_ttl 2400</code></p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Delete a DNS record</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Script: <code class="inline" v-pre="">del_virtual_dns_record.py </code> </p><p>Sample usage: <code class="inline" v-pre="">python del_virtual_dns_record.py
--api_server_ip 10.204.216.21 --api_server_port 8082 --fq_name default-domain:vdns1:rec1</code></p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Associate a virtual DNS server with an IPAM</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Script: <code class="inline" v-pre="">associate_virtual_dns.py </code> </p><p>Sample usage: <code class="inline" v-pre="">python associate_virtual_dns.py --api_server_ip
10.204.216.21 --api_server_port 8082 --ipam_fqname default-domain:demo:ipam1
--vdns_fqname default-domain:vdns1</code></p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Disassociate a virtual DNS server with an IPAM</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Script: <code class="inline" v-pre="">disassociate_virtual_dns.py </code> </p><p>Sample usage: <code class="inline" v-pre="">python disassociate_virtual_dns.py
--api_server_ip 10.204.216.21 --api_server_port 8082 --ipam_fqname
default-domain:demo:ipam1 --vdns_fqname default-domain:vdns1</code></p></td></tr></tbody></table></sw-table><sw-prev-next> </sw-prev-next></p>