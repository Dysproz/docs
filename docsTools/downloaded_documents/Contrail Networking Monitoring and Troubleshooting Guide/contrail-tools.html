<p id="topic-content"><h1 id="jd0e2">Using Contrail Tools</h1><sw-topic-details date="2020-10-12"> </sw-topic-details><p>Contrail-tools container provides centralized location for all
the available tools and CLI commands in one place.</p><p><span id="jd0e12">Starting with Contrail
Networking Release 2008, <span class="cli" v-pre="">contrail-tools</span> command will be
installed by default.</span></p><p><span class="cli" v-pre="">contrail-tools</span> command enables you to log in to the
contrail-tools container and execute the tool. Additionally, the command
will kill the container on exit.</p><p><a href="contrail-tools.html#AvailableTools">Table 1</a> provides a list of available
tools and CLI options in the <em>contrail-tools </em> package.</p><sw-table><p class="SubTitle" id="AvailableTools">Table 1: Available Tools and CLI options</p><table cellspacing="0" style="border-top:thin solid black;" width="99%"><thead><tr valign="bottom"><th align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Tools and CLI commands</p></th><th align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Description</p></th></tr></thead><tbody><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>dpdkinfo</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Adds support to display bond, lacp, Nic, mempool, core,
and app information.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>dpdkvifstats.py</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Display the PPS statistics of DPDK vRouter.</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>dropstats​</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Inspects packet drop counters in the vRouter.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>flow</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Displays active flows in the system.</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>mirror</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Displays the mirror table entries.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>mpls</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Displays the input label map programmed into the vRouter.</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>nh</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Displays the next hops that the vRouter knows.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>qosmap</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Retrieves and sets QoS mappings.</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>rt</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Displays routes in virtual routing and forwarding (VRF).</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>sandump</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Captures the Sandesh messages from the netlink connection
between Agent and vRouter.</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>vif</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Inspects vRouter interfaces associated with the vRouter
module.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>vifdump</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Captures and analyzes packets from DPDK interface.</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>vrfstats​</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Displays the next hop statistics for the VRF.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>vrftable</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Displays the interface mapping for each VRF for a host-based
firewall feature.</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>vrinfo</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Displays internal state of DPDK/Kernel vRouter.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>vrmemstats</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Displays the vRouter memory usage statistics.</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>vrouter</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Display the vRouter information.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>vxlan</p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Displays the vxlan table entries.</p></td></tr></tbody></table></sw-table><p>There are 2 ways to execute the <span class="cli" v-pre="">contrail-tools</span> command:</p><ul><li style=""><p>Execute <span class="cli" v-pre="">contrail-tools</span> command to login to
the container.</p><div class="sample" dir="ltr" id="jd0e180"><p>For example:</p><div dir="ltr" id="jd0e183"><code>[root]# contrail-tools</code></div><div dir="ltr" id="jd0e185"><code>(contrail-tools)[root /]$ vif​</code></div><div class="output" dir="ltr"><sw-code><template v-pre=""><pre>Usage: vif [--create &lt;intf_name&gt; --mac &lt;mac&gt;]​
   [--add &lt;intf_name&gt; --mac &lt;mac&gt; --vrf &lt;vrf&gt;​
   --type [vhost|agent|physical|virtual|monitoring]​
   --transport [eth|pmd|virtual|socket]​
   --xconnect &lt;physical interface name&gt;​
   --policy, --vhost-phys, --dhcp-enable]​
   --vif &lt;vif ID&gt; --id &lt;intf_id&gt; --pmd --pci]​
   [--delete &lt;intf_id&gt;|&lt;intf_name&gt;]​
   [--get &lt;intf_id&gt;][--kernel][--core &lt;core number&gt;][--rate] [--get-drop-stats]​
   [--set &lt;intf_id&gt; --vlan &lt;vlan_id&gt; --vrf &lt;vrf_id&gt;]​
   [--list][--core &lt;core number&gt;][--rate]​
   [--sock-dir &lt;sock dir&gt;]​
   [--help]</pre></template></sw-code></div></div></li><li style=""><p>Execute <span class="cli" v-pre="">contrail-tools</span> command with the CLI
as argument.</p><div class="sample" dir="ltr" id="jd0e195"><p>For example:</p><div dir="ltr" id="jd0e198"><code>[root]# contrail-tools vif</code></div><div class="output" dir="ltr"><sw-code><template v-pre=""><pre>Usage: vif [--create &lt;intf_name&gt; --mac &lt;mac&gt;]​
   [--add &lt;intf_name&gt; --mac &lt;mac&gt; --vrf &lt;vrf&gt;​
   --type [vhost|agent|physical|virtual|monitoring]​
   --transport [eth|pmd|virtual|socket]​
   --xconnect &lt;physical interface name&gt;​
   --policy, --vhost-phys, --dhcp-enable]​
   --vif &lt;vif ID&gt; --id &lt;intf_id&gt; --pmd --pci]​
   [--delete &lt;intf_id&gt;|&lt;intf_name&gt;]​
   [--get &lt;intf_id&gt;][--kernel][--core &lt;core number&gt;][--rate] [--get-drop-stats]​
   [--set &lt;intf_id&gt; --vlan &lt;vlan_id&gt; --vrf &lt;vrf_id&gt;]​
   [--list][--core &lt;core number&gt;][--rate]​
   [--sock-dir &lt;sock dir&gt;]​
   [--help]</pre></template></sw-code></div></div></li></ul><div class="table"><div class="caption">Release History Table</div><div class="table-row table-head"><div class="table-cell">Release</div><div class="table-cell">Description</div></div><div class="table-row"><div class="table-cell"><a href="#jd0e12">2008</a></div><div class="table-cell">Starting with Contrail
Networking Release 2008, <span class="cli" v-pre="">contrail-tools</span> command will be
installed by default.</div></div></div><sw-prev-next> </sw-prev-next></p>