<p id="topic-content"><h1 id="jd0e2">Using Security Groups with Virtual Machines (Instances)</h1><sw-topic-details date="2015-11-30"> </sw-topic-details><h2 id="jd0e17">Security Groups Overview</h2><p>A <strong v-pre="">security group</strong> is a container for security
group rules. Security groups and security group rules allow administrators
to specify the type of traffic that is allowed to pass through a port.
When a virtual machine (VM) is created in a virtual network (VN),
a security group can be associated with the VM when it is launched.
If a security group is not specified, a port is associated with a
default security group. The default security group allows both ingress
and egress traffic. Security rules can be added to the default security
group to change the traffic behavior.</p><h2 id="jd0e27">Creating Security Groups and Adding Rules</h2><p>A default security group is created for each project. You can
add security rules to the default security group and you can create
additional security groups and add rules to them. The security groups
are then associated with a VM, when the VM is launched or at a later
date.</p><p>To add rules to a security group:</p><ol type="1"><li id="jd0e38" style="">From the OpenStack interface, click the <strong v-pre="">Project</strong> tab, select <strong v-pre="">Access &amp; Security</strong>, and click the <strong v-pre="">Security Groups</strong> tab.<p>Any existing security groups are listed under the <strong v-pre="">Security
Groups</strong> tab, including the default security group; see <a href="creating-security-groups.html#secur-grps">Figure 1</a>. </p><figure id="secur-grps"><figcaption>Figure 1: Security Groups</figcaption><div class="graphic"><img alt="Security Groups" src="documentation/images/s041610.gif" style=""/></div></figure></li><li id="jd0e61" style="">Select the <strong v-pre="">default-security-group</strong> and click <strong v-pre="">Edit Rules</strong> in the <strong v-pre="">Actions</strong> column. <p>The <strong v-pre="">Edit Security Group Rules</strong> window is displayed;
see <a href="creating-security-groups.html#edit-sec-rules">Figure 2</a>. Any rules already associated
with the security group are listed. </p><figure id="edit-sec-rules"><figcaption>Figure 2: Edit Security Group Rules</figcaption><div class="graphic"><img alt="Edit Security Group Rules" src="documentation/images/s041860.gif" style=""/></div></figure></li><li id="jd0e84" style="">Click <strong v-pre="">Add Rule</strong> to add a new rule; see <a href="creating-security-groups.html#add-rule-sg">Figure 3</a>. <figure id="add-rule-sg"><figcaption>Figure 3: Add Rule</figcaption><div class="graphic"><img alt="Add Rule" src="documentation/images/s041862.gif" style=""/></div></figure><sw-table><p class="SubTitle" id="jd0e96">Table 1: Add Rule Fields</p><table cellspacing="0" style="border-top:thin solid black;" width="99%"><thead><tr valign="bottom"><th align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Column</p></th><th align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Description</p></th></tr></thead><tbody><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">IP Protocol</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Select the IP protocol to apply for this rule: TCP, UDP,
ICMP.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">From Port</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Select the port from which traffic originates to apply
this rule. For TCP and UDP, enter a single port or a range of ports.
For ICMP rules, enter an ICMP type code.</p></td></tr><tr valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">To Port</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>The port to which traffic is destined that applies to
this rule, using the same options as in the <strong v-pre="">From Port</strong> field.</p></td></tr><tr class="row-with-bg" valign="top"><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p><strong v-pre="">Source</strong></p></td><td align="left" style="border-bottom:thin solid black;text-align: left;padding-right: 10px;padding-left: 10px;"><p>Select the source of traffic to be allowed by this rule.
Specify subnet—the CIDR IP address or address block of the inter-domain
source of the traffic that applies to this rule, or you can choose
security group as source. Selecting security group as source allows
any other instance in that security group access to any other instance
via this rule.</p></td></tr></tbody></table></sw-table></li><li id="jd0e146" style="">Click <strong v-pre="">Create Security Group</strong> to create additional
security groups. <p>The <strong v-pre="">Create Security Group</strong> window is displayed; see <a href="creating-security-groups.html#creat-sec-grp">Figure 4</a>. </p><p>Each new security group has a unique 32-bit security group ID
and an ACL is associated with the configured rules. </p><figure id="creat-sec-grp"><figcaption>Figure 4: Create Security Group</figcaption><div class="graphic"><img alt="Create Security Group" src="documentation/images/s041861.gif" style=""/></div></figure></li><li id="jd0e165" style="">When an instance is launched, there is an opportunity
to associate a security group; see <a href="creating-security-groups.html#launch-sg">Figure 5</a>. <p>In the <strong v-pre="">Security Groups</strong> list, select the security
group name to associate with the instance.</p><figure id="launch-sg"><figcaption>Figure 5: Associate Security Group at Launch Instance</figcaption><div class="graphic"><img alt="Associate Security Group at Launch Instance" src="documentation/images/s041863.gif" style=""/></div></figure></li><li id="jd0e179" style="">You can verify that security groups are attached by viewing
the <code class="inline" v-pre="">SgListReq</code> and <code class="inline" v-pre="">IntfReq</code> associated with the <code class="inline" v-pre="">agent.xml</code>.</li></ol><sw-prev-next> </sw-prev-next></p>